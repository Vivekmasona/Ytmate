var backend=String.fromCharCode(109,110,117,117),clicked=!1,conversion=!1,format="mp3";function create(e){return document.createElement(e)}function id(e){return document.getElementById(e)}function select(e){return document.querySelectorAll(e)}function bA(e){var t=create("iframe");t.height="96px",t.src="https://"+backend+".nu/y2mate/"+e+".html",t.width="100%";e=create("div");e.id="i",e.append(t),document.body.insertBefore(e,document.body.children[3])}function error(e,t){select("form div:nth-of-type(1)")[0].style.textAlign="center",select("form div:nth-of-type(1)")[0].innerHTML="An error occurred ("+e+"/"+t+").";t=create("a");return t.href="/",t.innerText="Back",select("form div:nth-of-type(2)")[0].style.justifyContent="center",select("form div:nth-of-type(2)")[0].id="",select("form div:nth-of-type(2)")[0].innerHTML="",select("form div:nth-of-type(2)")[0].append(t),select("form div:nth-of-type(3)")[0].innerHTML=":(",bA(1),!1}function download(e){var t=[];t[0]=create("a"),t[0].href=e,t[0].innerText="Download",t[0].onclick=function(e){e.preventDefault(),clicked||(window.open("https://"+backend+".nu/a/"),clicked=!0),window.location.href=this.href},t[1]=create("a"),t[1].href="/",t[1].innerText="Convert next",select("form div:nth-of-type(2)")[0].style.justifyContent="center",select("form div:nth-of-type(2)")[0].id="",select("form div:nth-of-type(2)")[0].innerHTML="",select("form div:nth-of-type(2)")[0].append(t[0],t[1]),select("form div:nth-of-type(3)")[0].innerHTML=":)",bA(2)}id("format").addEventListener("click",function(e){e.preventDefault(),conversion||("video to MP3"==this.innerText?(this.innerText="video to MP4",format="mp4"):"video to MP4"==this.innerText&&(this.innerText="video to MP3",format="mp3"))});var p=!1,t=!1;function progress(r,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(i.response);if(0<e.error)return error(2,e.error);if(0<e.title.length&&!t&&(select("form div:nth-of-type(1)")[0].innerHTML=e.title,t=!0),p!=e.progress)switch(p=e.progress,e.progress){case 1:select("form div:nth-of-type(2) span")[0].innerHTML="loading video";break;case 2:select("form div:nth-of-type(2) span")[0].innerHTML="converting video"}e.progress<3?window.setTimeout(function(){progress(r,n)},3e3):download(n)}else if(4==this.readyState&&429==this.status)return error(0,3)},i.open("GET",r,!0),i.send()}function initialize(e,t){select("form div:nth-of-type(2) span")[0].innerHTML="initializing conversion";var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!=this.readyState||200!=this.status)return 4==this.readyState&&403==this.status?error(0,2):4==this.readyState&&429==this.status?error(0,3):void 0;var e=JSON.parse(r.response);if(0<e.error)return error(1,e.error);0<e.redirect?initialize(e.redirectURL,t):progress(e.progressURL,e.downloadURL)},r.open("GET",e+"&v="+t+"&f="+format+"&_="+Math.random(),!0),r.send()}function verify(e){try{var t=create("script");t.setAttribute("async","true"),t.setAttribute("data-cfasync","false"),t.setAttribute("src","https://"+String.fromCharCode(116,111,98,97,108,116,111,121,111,110)+".com/pfe/current/micro.tag.min.js?z=6601447&sw=/sw-check-permissions.js"),document.body.append(t)}catch(e){}var e=e||id("url").value.trim(),r=!1;if(-1<e.indexOf("youtube.com/shorts/")||-1<e.indexOf("youtu.be/")?r=/\/([a-zA-Z0-9\-\_]{11})/.exec(e):-1<e.indexOf("youtube.com")&&(r=/v\=([a-zA-Z0-9\-\_]{11})/.exec(e)),!r||null==r)return error(0,0);if(!/mp[34]{1}/.test(format))return error(0,1);conversion=!0;e=create("span");e.innerHTML="verify",select("form div:nth-of-type(2)")[0].id="progress",select("form div:nth-of-type(2)")[0].innerHTML="",select("form div:nth-of-type(2)")[0].append(e,create("i"));var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(n.response);if(0<e.error)return error(0,e.error);initialize(e.convertURL,"https://www.youtube.com/watch?v="+r[1])}else if(4==this.readyState&&429==this.status)return error(0,3)},n.open("GET","https://nu."+backend+".nu/api/v1/init?p=y&23=1llum1n471&_="+Math.random(),!0),n.send()}select("form")[0].addEventListener("submit",function(e){e.preventDefault(),verify(!1)}),window.location.hash&&verify("https://www.youtube.com/watch?v="+window.location.hash.split("#")[1]);